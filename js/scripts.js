!function(){function n(){$(".header h1");s=window.innerWidth,d=window.innerHeight,f={x:s/2,y:d/2},u=document.getElementById("header-canvas"),u.width=s,u.height=d,l=u.getContext("2d"),f.x=$(window).height()/3,f.y=$(window).height()/2,w=[];for(var n=0;s>n;n+=s/30)for(var e=0;d>e;e+=d/20){var t=n+Math.random()*s/20,i=e+Math.random()*d/20,o={x:t,originX:t,y:i,originY:i};w.push(o)}for(var r=2,h=0;h<w.length;h++){for(var m=[],v=w[h],g=0;g<w.length;g++){var p=w[g];if(v!=p){for(var T=!1,y=0;r>y;y++)T||void 0==m[y]&&(m[y]=p,T=!0);for(var y=0;r>y;y++)T||c(v,p)<c(v,m[y])&&(m[y]=p,T=!0)}}v.closest=m}for(var h in w){var M=new a(w[h],1+Math.random(),"rgba(255,255,255,0.1)");w[h].circle=M}}function e(){window.addEventListener("scroll",t)}function t(){h=!(document.body.scrollTop>d)}function i(){o();for(var n in w)r(w[n])}function o(){if(h){l.clearRect(0,0,s,d);for(var n in w)Math.abs(c(f,w[n]))<4e4?(w[n].active=.3,w[n].circle.active=.6):Math.abs(c(f,w[n]))<2e5?(w[n].active=.1,w[n].circle.active=.3):Math.abs(c(f,w[n]))<4e5?(w[n].active=.02,w[n].circle.active=.1):(w[n].active=0,w[n].circle.active=0),w[n].circle.draw()}requestAnimationFrame(o)}function r(n){TweenLite.to(n,1+1*Math.random(),{x:n.originX-50+100*Math.random(),y:n.originY-50+100*Math.random(),ease:Power0.easeNone,onComplete:function(){r(n)}})}function a(n,e,t){var i=this;!function(){i.pos=n||null,i.radius=e||null,i.color=t||null}(),this.draw=function(){i.active&&(l.beginPath(),l.arc(i.pos.x,i.pos.y,i.radius,0,2*Math.PI,!1),l.fillStyle="rgba(255,255,255,"+i.active+")",l.fill())}}function c(n,e){return Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)}var s,d,u,l,w,f,h=!0;$(window).width()>768&&(n(),i(),e())}(),function(n){var e=function(){function n(){o.removeClass("spinner"),setTimeout(function(){TweenLite.to(r,1,{x:0,ease:Expo.easeInOut}),TweenLite.to($(".header span"),.5,{x:0,delay:.3,ease:Expo.easeIn,onComplete:function(){a.css("color","rgba(255,255,255,1)"),TweenLite.to(c,1,{x:"105%",ease:Expo.easeOut})}})},0)}function e(){var n,e;s.each(function(){n=$(this),e=n.attr("src"),n.attr("srcset",e)})}function t(){var n=new ScrollMagic.Controller,e=$(".content-image"),t=$(".section-info li");e.each(function(t,i){new ScrollMagic.Scene({triggerElement:e[t],triggerHook:"onEnter"}).setTween($(i),{y:"0%",opacity:1}).addTo(n).reverse(!1)}),t.each(function(e,i){new ScrollMagic.Scene({triggerElement:t[e],triggerHook:"onEnter"}).setTween($(i),{y:"0%",opacity:1,delay:.1*e}).addTo(n).reverse(!1)})}function i(){n(),e(),t()}var o=$(".site"),r=$(".section-header"),a=$("h1,h2"),c=$(".header span"),s=$(".content-image img");return{init:i}}();$(document).ready(function(){$(this).scrollTop(0)}),$(window).on("load",e.init)}(window),function(){for(var n=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),o=Math.max(0,16-(i-n)),r=window.setTimeout(function(){e(i+o)},o);return n=i+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}(),+function(n){"use strict";function e(){var n=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in e)if(void 0!==n.style[t])return{end:e[t]};return!1}n.fn.emulateTransitionEnd=function(e){var t=!1,i=this;n(this).one("bsTransitionEnd",function(){t=!0});var o=function(){t||n(i).trigger(n.support.transition.end)};return setTimeout(o,e),this},n(function(){n.support.transition=e(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(e){return n(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);